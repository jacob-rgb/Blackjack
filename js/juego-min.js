const Module=(()=>{"use strict";let e=[];const t=["C","D","H","S"],a=["A","J","Q","K"];let n=0,d=0;const r=document.querySelector("#btnEmpezar"),s=document.querySelector("#btnPedir"),o=document.querySelector("#btnDetener"),[l,c]=document.querySelectorAll("small"),i=document.querySelector("#jugador-cartas"),u=document.querySelector("#computadora-cartas"),m=document.querySelector(".modalFinJuego"),b=document.querySelector("#modal-msg"),p=document.querySelector("#cerrar-modal"),L=()=>{if(!e.length)throw"No hay cartas en el deck";return e.pop()},h=e=>{const t=e.substr(0,e.length-1);return isNaN(t)?"A"===t?n+11>21?1:11:10:parseInt(t)},v=(e,t="humano")=>{const a=document.createElement("img");a.src=`assets/cartas/${e}.png`,a.classList.add("carta"),"humano"===t?i.appendChild(a):u.appendChild(a)},y=()=>{const e=L();n+=h(e),l.innerText=n,v(e),n>21?(b.innerText="Te has pasado. Lo sentimos.",T(),s.disabled=!0):21===n&&S()},S=e=>{let t=0;const a=setInterval(()=>{t+=1,s.disabled=!0,o.disabled=!0;const n=L();d+=h(n),c.innerText=d,v(n,"computadora"),d>21?(b.innerText="La banca se ha pasado. Has ganado.",r.disabled=!1,clearInterval(a),T()):d>=e&&(b.innerText="La banca gana, lo sentimos",r.disabled=!1,clearInterval(a),T())},500)},T=()=>{m.classList.contains("modalHidden")?m.classList.remove("modalHidden"):m.classList.add("modalHidden")},g=()=>{n=0,l.innerText=0,d=0,c.innerHTML=0,u.innerHTML="",i.innerHTML=""},q=()=>{g(),(()=>{for(let a=2;a<=10;a++)for(let n of t)e.push(a+n);for(let n of t)for(let t of a)e.push(t+n)})(),e=e.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e),s.disabled=!1,o.disabled=!1,r.disabled=!0,y()};r.addEventListener("click",()=>q()),s.addEventListener("click",()=>y()),o.addEventListener("click",()=>S(n)),p.addEventListener("click",()=>{T(),s.disabled=!0,o.disabled=!0,r.disabled=!1})})();